import R from 'ramda';

export const getPartById = (state, id) => R.prop(id, state.parts);

export const getParts = state => {
    const parts = R.map(id => getPartById(state, id), state.partsPage.ids);
    return parts;
};

export const getRenderedPartsLength = state => R.length(state.partsPage.ids); // возвращает длину массива

export const getTotalBasketCount = state => R.length(state.basket); // вернет длину массива

export const getTotalBasketPrice = state => {
  const totalPrice = R.compose(
      R.sum, // 3. суммируем все цены
      R.pluck('price'), // 2. массив строк цен
      R.map(id => getPartById(state, id)) // 1. получим массив объектов товаров которые в корзине
  )(state.basket);

    return totalPrice;
};